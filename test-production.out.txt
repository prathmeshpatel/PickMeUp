SELECT AVG(Meals.hours) AS meal_hours, AVG(Mood.happiness) AS happiness
FROM Meals, Mood
WHERE Mood.happiness=5 GROUP BY Mood.user_id;
     meal_hours     |     happiness
--------------------+--------------------
 2.2083333333333333 | 5.0000000000000000
 2.2083333333333333 | 5.0000000000000000
 2.2083333333333333 | 5.0000000000000000
(3 rows)
SELECT AVG(Social.hours) AS social_hours, AVG(Mood.happiness) AS happiness
FROM Social, Mood
WHERE Mood.happiness=5 GROUP BY Mood.user_id;
    social_hours    |     happiness
--------------------+--------------------
 4.1666666666666667 | 5.0000000000000000
 4.1666666666666667 | 5.0000000000000000
 4.1666666666666667 | 5.0000000000000000
(3 rows)
SELECT AVG(Downtime.hours) AS downtime_hours, AVG(Mood.happiness) AS happiness
FROM Downtime, Mood
WHERE Mood.happiness=5 GROUP BY Mood.user_id;
   downtime_hours   |     happiness
--------------------+--------------------
 3.5000000000000000 | 5.0000000000000000
 3.5000000000000000 | 5.0000000000000000
 3.5000000000000000 | 5.0000000000000000
(3 rows)
SELECT Sleep.hours, Mood.user_id, Mood.happiness
FROM Mood, Sleep
WHERE Sleep.user_id= 1112 and Mood.user_id = 1112;
 hours | user_id | happiness
-------+---------+-----------
  5.00 |    1112 |         5
  7.00 |    1112 |         5
  5.00 |    1112 |         4
  7.00 |    1112 |         4
(4 rows)
SELECT AVG(Meals.quality) AS meal_quality, AVG(Mood.happiness) AS happiness
FROM Meals, Mood
WHERE Mood.happiness = 1 GROUP BY Mood.user_id;
    meal_quality    |       happiness
--------------------+------------------------
 3.5000000000000000 | 1.00000000000000000000
(1 row)
UPDATE Mood
SET happiness= 5
WHERE user_id = 1113 and date = '2019-10-06';
UPDATE 1
SELECT RegisteredUser.name, Environment.avg_temp, Mood.happiness
FROM Environment, Mood, RegisteredUser
WHERE Environment.avg_temp > 65
AND Environment.user_id = Mood.user_id AND RegisteredUser.id = Mood.user_id;
      name       | avg_temp | happiness
-----------------+----------+-----------
 Brooke Erickson |       81 |         4
 Brooke Erickson |       80 |         4
 Kyle Murphy     |       83 |         5
 Kyle Murphy     |       88 |         5
 Darth Vader     |       68 |         1
 Darth Vader     |       71 |         1
 Susan Roger     |       84 |         5
 Susan Roger     |       87 |         5
 Brooke Erickson |       81 |         4
 Brooke Erickson |       80 |         4
 Kyle Murphy     |       83 |         4
 Kyle Murphy     |       88 |         4
 Ed Sheeran      |       81 |         5
 Ed Sheeran      |       82 |         5
 Darth Vader     |       68 |         2
 Darth Vader     |       71 |         2
 Susan Roger     |       84 |         4
 Susan Roger     |       87 |         4
 Ed Sheeran      |       81 |         5
 Ed Sheeran      |       82 |         5
(20 rows)
SELECT RegisteredUser.name, MAX(Social.hours) AS max_social_hours, MIN(Social.hours) AS min_social_hours, AVG(Mood.happiness) AS happiness
FROM Social, Mood, RegisteredUser
WHERE Mood.happiness > 3 AND  Social.user_id=Mood.user_id AND RegisteredUser.id=Mood.user_id
GROUP BY RegisteredUser.name;
      name       | max_social_hours | min_social_hours |     happiness
-----------------+------------------+------------------+--------------------
 Susan Roger     |             3.50 |             3.00 | 4.5000000000000000
 Taylor Swift    |             6.00 |             5.00 | 4.0000000000000000
 Kyle Murphy     |             9.00 |             3.00 | 4.5000000000000000
 Brooke Erickson |             5.00 |             4.00 | 4.0000000000000000
 Ed Sheeran      |             5.00 |             4.50 | 5.0000000000000000
(5 rows)
SELECT RegisteredUser.name, MIN(Sleep.hours) AS min_sleep_hours, AVG(Mood.happiness) AS happiness
FROM Sleep, Mood, RegisteredUser
WHERE Mood.happiness > 3 AND  Sleep.user_id=Mood.user_id AND RegisteredUser.id=Mood.user_id
GROUP BY RegisteredUser.name;
      name       | min_sleep_hours |     happiness
-----------------+-----------------+--------------------
 Susan Roger     |            8.00 | 4.5000000000000000
 Taylor Swift    |            5.00 | 4.0000000000000000
 Kyle Murphy     |            5.00 | 4.5000000000000000
 Brooke Erickson |            7.00 | 4.0000000000000000
 Ed Sheeran      |            7.00 | 5.0000000000000000
(5 rows)
